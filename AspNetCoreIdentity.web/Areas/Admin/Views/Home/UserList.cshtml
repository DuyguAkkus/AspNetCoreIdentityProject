@model List<AdminModel.UserViewModel>

@{
    ViewBag.Title = "KullanÄ±cÄ± Listesi";
    Layout = "_Layout";
}

<h2 class="text-center mt-4">@ViewBag.Title</h2> <!-- BaÅŸlÄ±ÄŸÄ± ortaladÄ±k -->

<div class="container mt-4">
    <table class="table table-hover text-center shadow-sm">
        <thead class="table-light">
        <tr>
            <th scope="col">#</th>
            <th scope="col">KullanÄ±cÄ± AdÄ±</th>
            <th scope="col">Email</th>
            <th scope="col">Rol AdÄ±</th>
            <th scope="col">Rol Ä°ÅŸlemleri</th>
        </tr>
        </thead>
        <tbody>
        @foreach (var (item, index) in Model.Select((value, i) => (value, i + 1)))
        {
            <tr>
                <th scope="row" class="fw-bold">@index</th> <!-- Otomatik artan sÄ±ra numarasÄ± -->
                <td>@item.Name</td>
                <td>@item.Email</td>
                <td>
                    @if (item.Roles != null && item.Roles.Any())
                    {
                        @foreach (var role in item.Roles)
                        {
                            <span class="role-badge">@role</span>
                        }
                    }
                    else
                    {
                        <span class="text-muted">Rol atanmadÄ±</span>
                    }
                </td>

                <td>
                    <!-- ðŸš€ GÃ¼ncellenmiÅŸ "Rol Ata" Butonu -->
                    <a class="btn custom-btn-pink btn-sm"
                       asp-controller="Roles"
                       asp-action="AssignRoleToUser"
                       asp-route-id="@item.Id">
                        Rol Ata
                    </a>
                </td>
            </tr>
        }
        </tbody>
    </table>
</div>

<!-- ðŸš€ CSS -->
<style>
    .table thead th {
        text-transform: uppercase;
        font-size: 1rem;
        font-weight: bold;
    }

    .table-hover tbody tr:hover {
        background-color: #f8f9fa !important;
        transition: background-color 0.3s ease-in-out;
    }

    /* ðŸŒ¸ KullanÄ±cÄ± Rolleri iÃ§in Badge Stili */
    .role-badge {
        display: inline-block;
        background-color: #d13250;
        color: white;
        padding: 4px 8px;
        border-radius: 6px;
        font-size: 0.85rem;
        font-weight: bold;
        margin-right: 4px;
    }

    /* ðŸŒ¸ GÃ¼ncellenmiÅŸ "Rol Ata" Butonu */
    .custom-btn-pink {
        background-color: #d13250 !important; /* Pembe buton */
        border: none;
        color: white !important;
        font-size: 1rem; /* YazÄ± boyutunu standart hale getirdik */
        transition: all 0.3s ease-in-out;
        border-radius: 6px;
        padding: 6px 10px;
        font-weight: 500;
    }

    .custom-btn-pink:hover {
        background-color: #f57288 !important; /* AÃ§Ä±k pembe */
        color: white !important;
    }
</style>
